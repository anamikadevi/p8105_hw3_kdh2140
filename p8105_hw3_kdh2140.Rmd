---
title: "Data Science Homework 3"
author: Kristina Howell
output: github_document
---

The following settings and libraries will be used throughout the homework. 

```{r settings, message = FALSE}
library(tidyverse)

knitr::opts_chunk$set(
  fig.width = 6, 
  fig.asp = .6, 
  out.width = "90%"
)

theme_set(theme_minimal() + theme(legend.position = "bottom"))

options(
  ggplot2.continuous.colour = "viridis", 
  ggplot2.continuous.fill = "virirdis"
)

scale_colour_discrete = scale_color_viridis_d
scale_fill_discrete = scale_fill_viridis_d
```

## Problem 1

Load the datasets from the p8105 library. 

```{r}
library(p8105.datasets)
data("instacart")
```

#### Dataset Description

The dataset **instacart** contains information about specific orders from the instacart online grocery service with 1,384,617 observations from 131,209 unique users. Key variables in the dataset include _department_, _aisle_, _product_name_, and _order_id_, as well as various entries representing time, day of week, and days since prior order. 

Overall, the dataset contains `r nrow(instacart)` rows and `r ncol(instacart)` columns. Each column represents an individual item ordered from a user. For example, the first 8 rows represent:

* the _order_id_ 1 
* from _user_id_ 112108 
* includes items from _department_ "dairy eggs", "produce", and "canned goods"
* featuring _product_name_ "Bulgarian Yogurt" ( _product_id_: 49302 ) and _product_name_ "Organic Celery Hearts" ( _product_id_: 10246 )

The **complete list of variables** in the dataset is as follows: `r names(instacart)`.

#### Problem 1 Questions

##### How many aisles are there, and which aisles are the most items ordered from?

The first code chunk identifies the total number of aisles: 134.
```{r}
instacart %>% 
  summarize(n_aisle = n_distinct(aisle_id))
```

The second code chunk creates a tibble listing the aisles and how much they're ordered from. 
```{r}
instacart %>% 
  group_by(aisle) %>% 
  summarize(n_ordered = n()) %>% 
  mutate(aisle_rank = min_rank(desc(n_ordered))) 
```

##### plot that shows the number of items ordered in each aisle, limiting this to aisles with more than 10000 items ordered. Arrange aisles sensibly, and organize your plot so others can read it.

Continuing from the above code chunk, 

```{r}
instacart %>% 
  group_by(aisle) %>% 
  summarize(n_ordered = n()) %>% 
  mutate(aisle_rank = min_rank(desc(n_ordered))) %>% 
  filter(n_ordered >= 10000) %>% 
  ggplot(aes(x = aisle, y = n_ordered, color = aisle)) +
  geom_point()
```


##### table showing the three most popular items in each of the aisles “baking ingredients”, “dog food care”, and “packaged vegetables fruits”. Include the number of times each item is ordered in your table.


////


#####  table showing the mean hour of the day at which Pink Lady Apples and Coffee Ice Cream are ordered on each day of the week; format this table for human readers (i.e. produce a 2 x 7 table).

////

## Problem 2

Load in the dataset and tidy. 

```{r}
accel = read_csv("./data/accel_data.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    activity_1:activity_1440,
    names_to = "time_minute",
    names_prefix = "activity_",
    values_to = "activity_count"
  ) %>% 
   mutate(
    week_day = case_when(
      day == "Monday" ~ "weekday", 
      day == "Tuesday" ~ "weekday", 
      day == "Wednesday" ~ "weekday", 
      day == "Thursday" ~ "weekday", 
      day == "Friday" ~ "weekday", 
      day == "Saturday" ~ "weekend",
      day == "Sunday" ~ "weekend",
      TRUE ~ ""
    ))
```

#### Dataset Description



#### Traditional Analyses












